<?xml version="1.1" encoding="UTF-8" standalone="no"?><databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog                   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">    <changeSet id="creating USERS table" author="yboyko">        <createTable tableName="users">            <column name="user_id" type="BIGINT">                <constraints primaryKey="true"                             primaryKeyName="users_pk"/>            </column>            <column name="name" type="VARCHAR(255)"/>            <column name="current_status" type="VARCHAR(255)" defaultValue="FREE"/>            <column name="future_status" type="VARCHAR(255)" defaultValue="FREE"/>            <column name="username" type="VARCHAR(255)"/>            <column name="password" type="VARCHAR(255)"/>            <column name="active" type="BOOLEAN" defaultValue="true"/>            <column name="role" type="VARCHAR(255)" defaultValue="USER"/>            <!-- TODO ПАРТНЕРЫ         -->        </createTable>    </changeSet>    <changeSet id="creating ORDER_TYPES table" author="yboyko">        <createTable tableName="order_types">            <column name="id" type="BIGINT">                <constraints primaryKey="true"                             nullable="false"                             primaryKeyName="order_types_pk"                             unique="true"/>            </column>            <column name="name" type="TEXT"/>        </createTable>    </changeSet>        <changeSet id="creating ORDERS table" author="yboyko">        <createTable tableName="orders">            <column name="ikea_number" type="VARCHAR(255)">                <constraints primaryKey="true"                             primaryKeyName="orders_pk"                             nullable="false"                             unique="true"/>            </column>            <column name="mb_number" type="VARCHAR(255)"/>            <column name="date_start" type="TIMESTAMPTZ"/>            <column name="date_end" type="TIMESTAMPTZ"/>            <column name="customer_name" type="VARCHAR(255)"/>            <column name="customer_address" type="VARCHAR(255)"/>            <column name="customer_phone" type="VARCHAR(255)"/>            <column name="comment" type="TEXT"/>            <column name="order_type_id" type="BIGINT">                <constraints referencedTableName="order_types"                             referencedColumnNames="id"                             foreignKeyName="order_order_type_id_fk"/>            </column>            <column name="false_visit" type="Boolean"/>        </createTable>    </changeSet>    <changeSet id="creating ORDERS HISTORY table"  author="yboyko">        <createTable tableName="order_status_history">            <column name="id" type="BIGINT" generationType="AUTO">                <constraints primaryKey="true"                             primaryKeyName="orders_history_pk"/>            </column>            <column name="user_id" type="BIGINT">                <constraints referencedTableName="users"                             referencedColumnNames="user_id"                             foreignKeyName="order_history_user_id_fk"                             nullable="false"/>            </column>            <column name="order_id" type="VARCHAR(255)">                <constraints nullable="false"                             referencedTableName="orders"                             referencedColumnNames="ikea_number"                             foreignKeyName="order_history_order_id_fk"/>            </column>            <column defaultValueComputed="CURRENT_TIMESTAMP" name="timestamp" type="TIMESTAMPTZ">                <constraints nullable="false"/>            </column>            <column name="order_status" type="VARCHAR(255)">                <constraints nullable="false"/>            </column>            <column name="comment" type="TEXT"/>        </createTable>    </changeSet>    <changeSet id="creating ORDERS_USERS table" author="yboyko">        <createTable tableName="orders_users">            <column name="order_id" type="VARCHAR(255)">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="orders_users_order_pk"                             referencedTableName="orders"                             referencedColumnNames="ikea_number"                             foreignKeyName="orders_users_order_fk"/>            </column>            <column name="user_id" type="BIGINT">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="orders_users_user_pk"                             referencedTableName="users"                             referencedColumnNames="user_id"                             foreignKeyName="orders_users_user_fk"/>            </column>        </createTable>    </changeSet>    <changeSet id="creating IKEA_ARTICLES table" author="yboyko">            <createTable tableName="ikea_articles">                <column name="article" type="VARCHAR(255)">                    <constraints primaryKey="true"                                 nullable="false"                                 primaryKeyName="ikea_articles_pk"                                 unique="true"/>                </column>                <column name="name" type="TEXT"/>                <column name="price" type="NUMERIC"/>                <column name="frame" type="BOOLEAN"/>            </createTable>        </changeSet>    <changeSet id="creating ORDER_ITEMS table" author="yboyko">            <createTable tableName="order_items">                <column name="id" type="BIGINT" generationType="AUTO">                    <constraints primaryKey="true"                                 nullable="false"                                 primaryKeyName="order_items_pk"                                 unique="true"/>                </column>                <column name="article" type="VARCHAR(255)">                    <constraints referencedTableName="ikea_articles"                                 referencedColumnNames="article"                                 foreignKeyName="order_items_article_id_fk"/>                </column>                <column name="count" type="INT"/>            </createTable>        </changeSet>    <changeSet id="create ORDER_CART table" author="yboyko">        <createTable tableName="order_cart">            <column name="order_id" type="VARCHAR(255)">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="order_cart_order_pk"                             referencedTableName="orders"                             referencedColumnNames="ikea_number"                             foreignKeyName="order_cart_order_fk"/>            </column>            <column name="item_id" type="BIGINT">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="order_cart_item_pk"                             referencedTableName="order_items"                             referencedColumnNames="id"                             foreignKeyName="order_cart_item_fk"/>            </column>        </createTable>    </changeSet><!--&lt;!&ndash;    LINK TABLE!!! Связующая таблица между ORDERS и ORDER_ITEMS &ndash;&gt;--><!--    <changeSet id="creating ORDERS_ORDER_ITEMS table" author="yboyko">--><!--        <createTable tableName="order_order_items">--><!--            <column name="order_id" type="VARCHAR(255)">--><!--                <constraints primaryKey="true"--><!--                             referencedTableName="orders"--><!--                             referencedColumnNames="ikea_number"--><!--                             foreignKeyName="order_order_items_order_id_fk"/>--><!--            </column>--><!--            <column name="order_item_id" type="BIGINT">--><!--                <constraints referencedTableName="order_items"--><!--                             referencedColumnNames="id"--><!--                             foreignKeyName="order_order_items_order_item_id_fk"--><!--                             primaryKey="true"/>--><!--            </column>--><!--        </createTable>--><!--    </changeSet>--><!--&lt;!&ndash;   LINK TABLE!!! Связующая таблица между ORDER_ITEMS и IKEA_ARTICLES&ndash;&gt;--><!--    <changeSet id="creating ORDER_ITEMS_ARTICLES table_" author="yboyko">--><!--        <createTable tableName="order_items_articles">--><!--            <column name="order_item_id" type="BIGINT">--><!--                <constraints referencedTableName="order_items"--><!--                             referencedColumnNames="id"--><!--                             foreignKeyName="order_items_articles_order_item_id_fk"--><!--            </column>--><!--            <column name="article_id" type="VARCHAR(255)">--><!--                <constraints referencedTableName="ikea_articles"--><!--                             referencedColumnNames="id"--><!--                             foreignKeyName="order_items_articles_article_id_fk"/>--><!--            </column>--><!--        </createTable>--><!--        <addPrimaryKey tableName="order_items_articles"--><!--                       columnNames="order_item_id, article_id"/>--><!--    </changeSet>-->    <changeSet id="init users table" author="yboyko">        <sqlFile path="../data/init_users.sql" relativeToChangelogFile="true"/>    </changeSet>    <changeSet id="init order types table" author="yboyko">        <sqlFile path="../data/init_order_types.sql" relativeToChangelogFile="true"/>    </changeSet></databaseChangeLog>