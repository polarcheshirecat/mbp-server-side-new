<?xml version="1.1" encoding="UTF-8" standalone="no"?><databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog                   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">    <changeSet id="creating USERS table" author="yboyko">        <createTable tableName="users">            <column name="id" type="BIGINT">                <constraints primaryKey="true"                             primaryKeyName="users_pk"/>            </column>            <column name="name" type="VARCHAR(255)"/>            <column name="current_status" type="VARCHAR(255)" defaultValue="Free"/>            <column name="future_status" type="VARCHAR(255)"/>            <column name="telegram_id" type="VARCHAR(255)"/>            <column name="username" type="VARCHAR(255)"/>            <column name="password" type="VARCHAR(255)"/>            <column name="active" type="BOOLEAN" defaultValue="true"/>            <column name="role" type="VARCHAR(255)" defaultValue="USER"/>            <!-- TODO ПАРТНЕРЫ         -->        </createTable>    </changeSet>    <changeSet id="creating ORDER_TYPES table" author="yboyko">        <createTable tableName="order_types">            <column name="id" type="VARCHAR(255)">                <constraints primaryKey="true"                             nullable="false"                             primaryKeyName="order_types_pk"                             unique="true"/>            </column>            <column name="name" type="TEXT"/>        </createTable>    </changeSet>        <changeSet id="creating ORDERS table" author="yboyko">        <createTable tableName="orders">            <column name="number_ikea" type="VARCHAR(255)">                <constraints primaryKey="true"                             primaryKeyName="orders_pk"                             nullable="false"                             unique="true"/>            </column>            <column name="guid" type="VARCHAR(255)">                <constraints nullable="false"/>            </column>            <column name="number_mb" type="VARCHAR(255)"/>            <column name="date_start" type="TIMESTAMPTZ"/>            <column name="date_end" type="TIMESTAMPTZ"/>            <column name="client" type="VARCHAR(255)"/>            <column name="address" type="VARCHAR(255)"/>            <column name="phone" type="VARCHAR(255)"/>            <column name="range" type="MONEY"/>            <column name="comment_from_operator" type="TEXT"/>            <column name="comment_from_user" type="TEXT"/>            <column name="order_type_id" type="VARCHAR(255)">                <constraints referencedTableName="order_types"                             referencedColumnNames="id"                             foreignKeyName="order_order_type_id_fk"/>            </column>            <column name="false_visit" type="Boolean"/>        </createTable>    </changeSet>    <changeSet id="creating PUSH_ORDERS_INFO table"  author="yboyko">        <createTable tableName="push_orders_info">            <column name="guid" type="VARCHAR(255)">                <constraints primaryKey="true"                             nullable="false"                             primaryKeyName="push_order_pk"/>            </column>            <column name="user_id" type="BIGINT">                <constraints referencedTableName="users"                             referencedColumnNames="id"                             foreignKeyName="order_history_user_id_fk"                             nullable="false"/>            </column>            <column name="comment" type="TEXT"/>            <column name="cancel" type="BOOLEAN"/>            <column name="order_status" type="VARCHAR(255)">                <constraints nullable="false"/>            </column>            <column defaultValueComputed="CURRENT_TIMESTAMP" name="timestamp" type="TIMESTAMPTZ">                <constraints nullable="false"/>            </column>        </createTable>    </changeSet>    <changeSet id="creating ORDERS_USERS table" author="yboyko">        <createTable tableName="orders_users">            <column name="number_ikea" type="VARCHAR(255)">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="numberIkea_order_pk"                             referencedTableName="orders"                             referencedColumnNames="number_ikea"                             foreignKeyName="orders_users_order_fk"/>            </column>            <column name="user_id" type="BIGINT">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="orders_users_user_pk"                             referencedTableName="users"                             referencedColumnNames="id"                             foreignKeyName="orders_users_user_fk"/>            </column>        </createTable>    </changeSet><!--    <changeSet id="creating IKEA_ARTICLES table" author="yboyko">--><!--            <createTable tableName="ikea_articles">--><!--                <column name="id" type="VARCHAR(255)">--><!--                    <constraints primaryKey="true"--><!--                                 nullable="false"--><!--                                 primaryKeyName="ikea_articles_pk"--><!--                                 unique="true"/>--><!--                </column>--><!--                <column name="name" type="TEXT"/>--><!--                <column name="price" type="NUMERIC"/>--><!--                <column name="frame" type="BOOLEAN"/>--><!--            </createTable>--><!--        </changeSet>-->    <changeSet id="creating ORDER_ITEMS table" author="yboyko">            <createTable tableName="order_items">                <column name="id" type="BIGINT" generationType="AUTO">                    <constraints primaryKey="true"                                 nullable="false"                                 primaryKeyName="order_items_pk"                                 unique="true"/>                </column>                <column name="article" type="VARCHAR(1020)"/>                <column name="name" type="VARCHAR()"/>                <column name="count" type="INT"/>                <column name="price" type="MONEY"/>                <column name="sum" type="MONEY"/>                <column name="frame" type="BOOLEAN"/>            </createTable>        </changeSet>    <changeSet id="create ORDER_CART table" author="yboyko">        <createTable tableName="order_cart">            <column name="order_id" type="VARCHAR(255)">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="order_cart_order_pk"                             referencedTableName="orders"                             referencedColumnNames="number_ikea"                             foreignKeyName="order_cart_order_fk"/>            </column>            <column name="item_id" type="BIGINT">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="order_cart_item_pk"                             referencedTableName="order_items"                             referencedColumnNames="id"                             foreignKeyName="order_cart_item_fk"/>            </column>        </createTable>    </changeSet>    <!--files init data-->    <changeSet id="init users table" author="yboyko">        <sqlFile path="../data/init_users.sql" relativeToChangelogFile="true"/>    </changeSet><!--    <changeSet id="init order types table" author="yboyko">--><!--        <sqlFile path="../data/init_order_types.sql" relativeToChangelogFile="true"/>--><!--    </changeSet>--><!--    -->    <changeSet id="creating USER_STATUS_DATA table" author="yboyko">        <createTable tableName="user_status_data">            <column name="id" type="BIGINT" generationType="AUTO">                <constraints primaryKey="true"                             primaryKeyName="user_status_data_pk"/>            </column>            <column defaultValueComputed="CURRENT_TIMESTAMP" name="timestamp" type="TIMESTAMPTZ">                <constraints nullable="false"/>            </column>            <column name="user_id" type="BIGINT">                <constraints nullable="false"                             foreignKeyName="user_status_user_id_fk"                             referencedTableName="users"                             referencedColumnNames="id"/>            </column>            <column name="current_status" type="VARCHAR(255)"/>            <column name="future_status" type="VARCHAR(255)"/>            <column name="comment" type="TEXT"/>        </createTable>    </changeSet>    <changeSet id="creating DOCSUMENTS TABLE" author="yboyko">        <createTable tableName="documents">            <column name="id" type="BIGINT" generationType="AUTO">                <constraints primaryKey="true"                             primaryKeyName="documents_pk"/>            </column>            <column name="name" type="VARCHAR(255)"/>            <column name="url" type="VARCHAR(2048)"/>            <column name="type" type="VARCHAR(255)"/>        </createTable>    </changeSet>    <changeSet id="creating ORDER_DOCS table" author="yboyko">        <createTable tableName="order_docs">            <column name="order_id" type="VARCHAR(255)">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="order_docs_order_pk"                             referencedTableName="orders"                             referencedColumnNames="number_ikea"                             foreignKeyName="order_docs_order_fk"/>            </column>            <column name="doc_id" type="BIGINT">                <constraints nullable="false"                             primaryKey="true"                             primaryKeyName="order_docs_doc_pk"                             referencedTableName="documents"                             referencedColumnNames="id"                             foreignKeyName="order_docs_doc_fk"/>            </column>        </createTable>    </changeSet>    <changeSet id="init usernames" author="yboyko">        <sqlFile path="../data/init_usernames.sql" relativeToChangelogFile="true"/>    </changeSet>    <changeSet id="init 1C user" author="yboyko">        <sqlFile path="../data/init_1c_user.sql" relativeToChangelogFile="true"/>    </changeSet>    <changeSet id="creating ORDER USER STATUS table" author="yboyko">        <createTable tableName="order_user_status">            <column name="number_ikea" type="VARCHAR(255)">                <constraints primaryKey="true"                             primaryKeyName="order_user_status_order_guid_pk"                             nullable="false"                             referencedTableName="orders"                             referencedColumnNames="number_ikea"                             foreignKeyName="order_user_status_order_numikea_fk"/>            </column>            <column name="user_id" type="BIGINT">                <constraints primaryKey="true"                             primaryKeyName="order_user_status_user_id_pk"                             nullable="false"                             referencedTableName="users"                             referencedColumnNames="id"                             foreignKeyName="order_user_status_user_id_fk"/>            </column>            <column name="guid" type="VARCHAR(255)">                <constraints nullable="false"/>            </column>            <column name="status" type="VARCHAR(255)">                <constraints nullable="false"/>            </column>            <column name="comment" type="VARCHAR"/>        </createTable>    </changeSet></databaseChangeLog>